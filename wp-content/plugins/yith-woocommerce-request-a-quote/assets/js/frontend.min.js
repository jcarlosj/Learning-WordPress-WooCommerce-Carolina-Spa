jQuery(document).ready(function(a){var h=a("body");a(".add-request-quote-button");var m=a(".yith-ywraq-item-remove");if(h.hasClass("single-product")){var d=a('[name|="product_id"]'),h=d.val(),f=a(".add-to-quote-"+h).find("a"),k=f.parents(".yith-ywraq-add-to-quote"),l=a('[name|="variation_id"]');l.on("change",function(){""==a(this).val()?f.parent().hide().removeClass("show"):a.ajax({type:"POST",url:ywraq_frontend.ajaxurl,dataType:"json",data:"action=yith_ywraq_action&ywraq_action=variation_exist&variation_id="+
l.val()+"&product_id="+d.val(),success:function(b){!0===b.result?(f.parent().hide().removeClass("show"),0==a(".yith_ywraq_add_item_browse-list-"+d.val()).length&&(k.append('<div class="yith_ywraq_add_item_response-'+d.val()+' yith_ywraq_add_item_response_message">'+b.message+"</div>"),k.append('<div class="yith_ywraq_add_item_browse-list-'+d.val()+' yith_ywraq_add_item_browse_message"><a href="'+b.rqa_url+'">'+b.label_browse+"</a></div>"))):(a(".yith_ywraq_add_item_response-"+d.val()).remove(),a(".yith_ywraq_add_item_browse-list-"+
d.val()).remove(),f.parent().show().addClass("show"))}})})}a(document).on("click",".add-request-quote-button",function(b){b.preventDefault();var c=a(this),d=c.parents(".yith-ywraq-add-to-quote");b="ac";if(0<c.parents("ul.products").length)var g=c.parents("li.product").find('input[name="add-to-cart"]'),e=c.parents("li.product").find('input[name="product_id"]');else g=c.parents(".product").find('input[name="add-to-cart"]'),e=c.parents(".product").find('input[name="product_id"]');0<g.length&&0<e.length?
b=a(".cart").serialize():0<g.length&&0<a(".cart").length?b=a(".cart").serialize():0==g.length&&(b="quantity=1");b+="&action=yith_ywraq_action&ywraq_action=add_item&product_id="+c.data("product_id")+"&wp_nonce="+c.data("wp_nonce");0<b.indexOf("add-to-cart")&&(b=b.replace("add-to-cart","yith-add-to-cart"));a.ajax({type:"POST",url:ywraq_frontend.ajaxurl,dataType:"json",data:b,beforeSend:function(){c.siblings(".ajax-loading").css("visibility","visible")},complete:function(){c.siblings(".ajax-loading").css("visibility",
"hidden")},success:function(a){if("true"==a.result||"exists"==a.result){c.parent().hide().removeClass("show").addClass("addedd");var b="undefined"==typeof e.val()?"":"-"+e.val();d.append('<div class="yith_ywraq_add_item_response'+b+' yith_ywraq_add_item_response_message">'+a.message+"</div>");d.append('<div class="yith_ywraq_add_item_browse-list'+b+' yith_ywraq_add_item_browse_message"><a href="'+a.rqa_url+'">'+a.label_browse+"</a></div>")}else"false"==a.result&&d.append('<div class="yith_ywraq_add_item_response-'+
e.val()+'">'+a.message+"</div>")}})});m.on("click",function(b){b.preventDefault();var c=a(this),d=c.data("remove-item");a("#yith-ywraq-form");b="";b="action=yith_ywraq_action&ywraq_action=remove_item&key="+c.data("remove-item")+"&wp_nonce="+c.data("wp_nonce")+"&product_id="+c.data("product_id");a.ajax({type:"POST",url:ywraq_frontend.ajaxurl,dataType:"json",data:b,beforeSend:function(){c.siblings(".ajax-loading").css("visibility","visible")},complete:function(){c.siblings(".ajax-loading").css("visibility",
"hidden")},success:function(b){1===b&&(a("[data-remove-item='"+d+"']").parents(".cart_item").remove(),0===a(".cart_item").length&&(a("#yith-ywraq-form, #yith-ywraq-mail-form, .yith-ywraq-mail-form-wrapper").remove(),a("#yith-ywraq-message").text(ywraq_frontend.no_product_in_list)))}})})});
